<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>Hello World</title>
</head>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/pixi.js/4.5.3/pixi.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<body>
  <script type="text/javascript">
    var type = "WebGL"
    if(!PIXI.utils.isWebGLSupported()){
      type = "canvas"
    }

    PIXI.utils.sayHello(type)
  </script>
  <script>
    //Aliases
    var Container = PIXI.Container,
      autoDetectRenderer = PIXI.autoDetectRenderer,
      loader = PIXI.loader,
      resources = PIXI.loader.resources,
      Sprite = PIXI.Sprite,
      Rectangle = PIXI.Rectangle,
      TextureCache = PIXI.TextureCache;

    //Create a Pixi stage and renderer and add the
    //renderer.view to the DOM
    var stage = new Container(),
      renderer = autoDetectRenderer(360, 640);
    document.body.appendChild(renderer.view);

    //load an image and run the `setup` function when it's done
    loader
      .add("img/f13.jpg")
      .add("img/test.jpg")
      .on("progress", loadProgressHandler)
      .load(setup);

    function loadProgressHandler(loader, resource) {
      console.log("loading " + resource.url);
      console.log("progress: " + loader.progress + "%");
    }

    var cat;

    function setup() {
      console.log("setup");
      //Create the `cat` sprite, add it to the stage, and render it
      cat = new Sprite(resources["img/f13.jpg"].texture);

      var texture = TextureCache["img/test.jpg"];

      var rect = new Rectangle(256,380,64,64);
      texture.frame = rect;

      var rocket = new Sprite(texture);


      cat.x = 96;
      cat.y = 96;

      stage.addChild(cat);
      stage.addChild(rocket);
      gameLoop();
    }

    function gameLoop() {

      requestAnimationFrame(gameLoop);
      // console.log("HIO");
      cat.x += 1;
      renderer.render(stage);
    }
  </script>
</body>
</html>
